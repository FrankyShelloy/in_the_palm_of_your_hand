# –ü—Ä–æ–µ–∫—Ç "–ù–∞ –ª–∞–¥–æ–Ω–∏"

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –æ—Ç–∑—ã–≤–∞–º–∏ –æ –º–µ—Å—Ç–∞—Ö –≥–æ—Ä–æ–¥–∞.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üó∫Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –Ω–∞ –±–∞–∑–µ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç
- ‚≠ê –û—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –∏ —Ñ–æ—Ç–æ
- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ email –∏–ª–∏ VK
- üèÜ –°–∏—Å—Ç–µ–º–∞ –æ—á–∫–æ–≤ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- üåô –¢—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞
- üîå API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≥–æ—Ä–æ–¥—Å–∫–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- .NET 9.0 SDK
- SQLite

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
export JWT_SECRET_KEY="your-secret-key-min-32-characters-long"
export VK_CLIENT_ID="your_vk_app_id"
export VK_CLIENT_SECRET="your_vk_client_secret"
```

### VK OAuth

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ [VK –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤](https://dev.vk.com/)
2. –£–∫–∞–∂–∏—Ç–µ Redirect URI: `http://localhost/api/auth/vk/callback`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª—é—á–∏ —á–µ—Ä–µ–∑ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Å–º. –≤—ã—à–µ) –∏–ª–∏ –≤ `appsettings.json`

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!

## –ó–∞–ø—É—Å–∫

```bash
cd PalmMap.Api
dotnet run --launch-profile vk-auth
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: http://localhost

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- `PalmMap.Api/` - Backend (ASP.NET Core)
- `wwwroot/` - Frontend (HTML, CSS, JS)

## API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

REST API –¥–ª—è –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º. –¢—Ä–µ–±—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Api-Key`.

```bash
export INTEGRATION_API_KEY="your-api-key"
```

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**

- `GET /api/v1/integration/places` ‚Äî –º–µ—Å—Ç–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `GET /api/v1/integration/places/{id}` ‚Äî –¥–µ—Ç–∞–ª–∏ –º–µ—Å—Ç–∞
- `GET /api/v1/integration/places/nearby?lat=...&lon=...` ‚Äî –º–µ—Å—Ç–∞ —Ä—è–¥–æ–º
- `GET /api/v1/integration/stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- `GET /api/v1/integration/export/geojson` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç GeoJSON

```bash
curl -H "X-Api-Key: $API_KEY" http://localhost/api/v1/integration/stats
```